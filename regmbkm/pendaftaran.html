<!DOCTYPE html>
<html>
<head>
    <title>Pendaftaran MBKM</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h2 class="mt-3">Form Pendaftaran MBKM</h2>
        <form id="registrationForm" method="post" enctype="multipart/form-data">
            <div class="form-group">
                <label for="namaMahasiswa">Nama:</label>
                <input type="text" id="namaMahasiswa" name="namaMahasiswa" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="nim">NIM:</label>
                <input type="number" id="nim" name="nim" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="alamat">Alamat:</label>
                <input type="text" id="alamat" name="alamat" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="aktivitasMbkm">Aktivitas MBKM:</label>
                <input type="text" id="aktivitasMbkm" name="aktivitasMbkm" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="durasi">Durasi:</label>
                <input type="text" id="durasi" name="durasi" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="namaKegiatan">Nama Kegiatan:</label>
                <input type="text" id="namaKegiatan" name="namaKegiatan" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="namaMitra">Nama Mitra:</label>
                <input type="text" id="namaMitra" name="namaMitra" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="waktuPelaksanaan">Waktu Pelaksanaan:</label>
                <input type="text" id="waktuPelaksanaan" name="waktuPelaksanaan" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="file">Unggah Berkas:</label>
                <input type="file" id="file" name="file" class="form-control-file" required>
            </div>

            <button type="button" class="btn btn-primary" onclick="submitForm()">Daftar</button>

            <div id="successMessage" class="alert alert-success" style="display: none">
                Data berhasil dibuat.
            </div>

        </form>
    </div>

    <script>
        function submitForm() {
            var form = document.getElementById('registrationForm');
            var formData = new FormData(form);

            //untuk mengirim request data yang diisi
            var url = 'http://localhost:8085/regMbkm/create';

            // Send a POST request to the API endpoint
            fetch(url, {
                method: 'POST',
                body: formData
            })
            .then(response => response.json()) // assuming the response is in JSON format
            .then(data => {
                alert('Data has been created successfully');
                window.location.href = 'reg_view.html';
            })
            .catch(error => {
                console.error('Error:', error);
            });
        }
    </script>

</body>
</html>
